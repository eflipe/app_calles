{% extends "base.html" %}

<title>{% block title %} {{city_str}} {% endblock%}</title>


{% block content %}
<h1 class=""> INFO </h1>


{# <div class="list-group">
  <div class="list-group-item">
    <h4>
    Ciudad:
    </h4>
    <p>{{city_str}}</p>
  </div>
  <br>
  <div class="list-group-item">
    <h4>
    Direcci√≥n:
    </h4>
    <p>{{address}}</p>
  </div>
</div> #}

<br>
    {# <div class="form-group">
      <small class="form-text text-muted">Latitud: </small>
      <input type="text" class="form-control" id="lat_url" name="lat_url" value="{{ lat_str }}"
      aria-describedby="latitud"  placeholder="Latitud...">
    </div>
    <div class="form-group">
      <small class="form-text text-muted">Longitud: </small>
      <input type="text" class="form-control" id="long_url" name="long_url" value="{{ long_str }}"
      aria-describedby="longitud"  placeholder="Longitud...">
    </div> #}


    <form class="form" method="post">

      {% if geo_calle %}
      <label for="calle_url">Calle: {{ geo_calle }}</label>
      {% else %}
      <h4>
        Coordenadas:

      </h4>
      {% endif %}

    <div class="form-group">
      <small class="form-text text-muted">Latitud: </small>
      <input type="text" class="form-control" id="lat_url_1" name="lat_url_1" value=""
      aria-describedby="latitud"  placeholder="Latitud...">
    </div>
    <div class="form-group">
      <small class="form-text text-muted">Longitud: </small>
      <input type="text" class="form-control" id="long_url_2" name="long_url_2" value=""
      aria-describedby="longitud"  placeholder="Longitud...">
    </div>

    <button type="submit" class="btn btn-light" name="button">Enviar coordenadas</button>
  </form>

  <br>

{% endblock content %}
{% block map %}


  <div>
    <div style="width: 80vw; height: 50vh" id="mapContainer">
    </div>



</div>
<section>
  <script>

      function showPosition() {
          if(navigator.geolocation) {
              navigator.geolocation.getCurrentPosition(function(position) {
                console.log(position.coords.latitude)
                console.log(position.coords.longitude)
                const lat_1 = position.coords.latitude;
           	    const lon_2 = position.coords.longitude;
                  document.getElementById("lat_url_1").value = position.coords.latitude;
                  document.getElementById("long_url_2").value = position.coords.longitude;
              });
          } else {
              alert("Sorry, your browser does not support HTML5 geolocation.");
          }
          // return lat_1, lat_2;
      }

      showPosition()


      // console.log(lat_1)
      // console.log(lat_2)


  </script>
</section>
{% endblock map %}
